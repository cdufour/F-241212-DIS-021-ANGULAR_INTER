<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Démo RXJS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/7.8.1/rxjs.umd.min.js" integrity="sha512-D9LDs8YUUVa4V9Gl4Zb+xqRAc7RCzooR3+zzebgK2RMu/KU+dh90pbjEEMzPiSyRSGbSp9j1pZnrO4joGa5WEg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <h1>Démo RXJS</h1>
    
    <script>
        const { Observable, range, map, filter } = rxjs;

        const $source = Observable.create(observer => {
            
            // valeurs émises de façon synchrone
            observer.next('Ciao');
            observer.next('Tutti');

            // valeur émise de façon asynchrone
            setTimeout(() => { 
                observer.next('Bye bye') 
            }, 5000)
        })

        // subscriber 1
        //$source.subscribe(value => console.log(value))

        // subscriber 2
        //$source.subscribe(value => console.log(value + '...'))

        const double = x => x*2;
        const square = x => x*x;

        range(1, 10)
            .pipe(
                map(square),
                map(double),
                filter(x => x > 50)
            )
            .subscribe(value => console.log(value))


    </script>
</body>
</html>